import{_ as w,r as h,u as C,a as D,o as L,b as f,c as z,d as i,e as c,f as t,w as x,g,v as y,t as n,h as v,F as S,i as N,j as U,k as R,l as T,m as A}from"./index.9ba826d1.js";const B={setup(){let m=h([]),a=h(null),b=h(null);const e=h([]),u=C(),k="http://34.101.97.232:5000/",s=D({name:"",idYt:"",desc:"",thumbnail:"",modul:""});L(()=>{f.get(k+"api/videos").then(d=>{m.value=d.data}).catch(d=>{console.log(d.response)})});function o(){var d="";if(_(s.idYt)){var r=new URL(s.idYt);d=r.searchParams.get("v")}const l=new FormData;l.append("name",s.name),l.append("idYt",d),l.append("desc",s.desc),a._value===null?l.append("modul",s.modul):l.append("modul",a,a.name),f.post("http://34.101.97.232:5000/api/videos",l).then(()=>{u.go({name:"video"})}).catch(Y=>{e.value=Y.response.data})}function _(d){var r=new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i");return!!r.test(d)}function p(d){a=d.target.files[0]}function V(d,r){f.delete(`http://34.101.97.232:5000/api/videos/${d}`).then(()=>{m.value.data.splice(r,1),u.go({name:"video"})}).catch(l=>{console.log(l.response.data)})}function M(d){b.value=d}return{video:s,validation:e,router:u,store:o,onModulSelected:p,modul:a,videos:m,destroy:V,getId:M,idVideo:b}}},E={class:"content"},F={class:"row"},I={class:"col-md-12"},j={class:"card"},P=t("div",{class:"card-header"},[t("h4",{class:"card-title"},"Add Video")],-1),q={class:"card-body"},G={class:"mb-3"},H=t("label",{for:"",class:"form-label"},"Title",-1),J={key:0,class:"text-danger"},K={class:"mb-3"},O=t("label",{for:"",class:"form-label"},"Deskripsi",-1),Q={key:0,class:"text-danger"},W={class:"mb-3"},X=t("label",{for:"",class:"form-label"},"Link Video Youtube",-1),Z={key:0,class:"text-danger"},$={class:"mb-3"},tt=t("label",{for:"",class:"form-label"},"Modul",-1),et=t("br",null,null,-1),ot={key:0,class:"text-danger"},at=t("button",{class:"btn btn-primary"},"Submit",-1),dt={class:"col-md-12"},st={class:"card"},lt=t("div",{class:"card-header"},[t("h4",{class:"card-title"},"List Video")],-1),nt={class:"card-body"},it={class:"table-responsive"},ct={class:"table"},rt=t("thead",{class:"text-primary"},[t("th",null,"Nama"),t("th",null,"Deskripsi"),t("th",null,"Link Video Youtube"),t("th",null,"Thumbnail"),t("th",null,"Modul"),t("th",null,"Action")],-1),mt=["src"],ut={class:"btn-group"},_t=A("Edit"),ht=["onClick"],vt={class:"modal fade",id:"exampleModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},bt={class:"modal-dialog",role:"document"},pt={class:"modal-content"},ft=T('<div class="modal-header"><h5 class="modal-title" id="exampleModalLabel"> Delete Video </h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"> Apakah anda yakin ingin menghapus ini? </div>',2),gt={class:"modal-footer"},yt=t("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),kt=["onClick"];function xt(m,a,b,e,u,k){const s=z("router-link");return i(),c("div",E,[t("div",F,[t("div",I,[t("div",j,[P,t("div",q,[t("form",{onSubmit:a[4]||(a[4]=x(o=>e.store(),["prevent"]))},[t("div",G,[H,g(t("input",{type:"text",class:"form-control","onUpdate:modelValue":a[0]||(a[0]=o=>e.video.name=o)},null,512),[[y,e.video.name]]),e.validation.name?(i(),c("div",J,n(e.validation.name),1)):v("",!0)]),t("div",K,[O,g(t("textarea",{class:"form-control","onUpdate:modelValue":a[1]||(a[1]=o=>e.video.desc=o)},null,512),[[y,e.video.desc]]),e.validation.desc?(i(),c("div",Q,n(e.validation.desc),1)):v("",!0)]),t("div",W,[X,g(t("input",{type:"url",class:"form-control","onUpdate:modelValue":a[2]||(a[2]=o=>e.video.idYt=o)},null,512),[[y,e.video.idYt]]),e.validation.idYt?(i(),c("div",Z,n(e.validation.idYt),1)):v("",!0)]),t("div",$,[tt,et,t("input",{id:"modul",onChange:a[3]||(a[3]=(...o)=>e.onModulSelected&&e.onModulSelected(...o)),type:"file",class:"form-control",accept:".pdf, .doc, .docx"},null,32)]),e.validation.file?(i(),c("div",ot,n(e.validation.file),1)):v("",!0),at],32)])]),t("div",dt,[t("div",st,[lt,t("div",nt,[t("div",it,[t("table",ct,[rt,t("tbody",null,[(i(!0),c(S,null,N(e.videos.data,(o,_)=>(i(),c("tr",{key:_},[t("td",null,n(o.name),1),t("td",null,n(o.desc),1),t("td",null,n(o.idYt),1),t("td",null,[t("img",{src:o.thumbnail,width:"300",class:"img-thumbnail"},null,8,mt)]),t("td",null,n(o.modul.replace("public/moduls/","")),1),t("td",null,[t("div",ut,[U(s,{to:{name:"editvideo",params:{id:o.id}},class:"btn btn-sm btn-outline-info"},{default:R(()=>[_t]),_:2},1032,["to"]),t("button",{type:"button",class:"btn btn-sm btn-outline-danger","data-toggle":"modal","data-target":"#exampleModal",onClick:p=>e.getId(o.id)}," Delete ",8,ht),t("div",vt,[t("div",bt,[t("div",pt,[ft,t("div",gt,[yt,t("button",{type:"button",class:"btn btn-danger",onClick:x(p=>e.destroy(e.idVideo,_),["prevent"]),"data-dismiss":"modal"}," Delete ",8,kt)])])])])])])]))),128))])])])])])])])])])}var Mt=w(B,[["render",xt]]);export{Mt as default};
